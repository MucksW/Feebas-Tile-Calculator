<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feebas Tile Calculator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div class="container">
    <div class="row">

        <div class="col-md-6">
            <h1>Feebas Tile Calculator</h1>
            <p id="disclaimer">
            <span>The calculated Feebas tiles can only be reliably predicted if the trendy phrase in Dewford City was not changed manually. If you cannot find the words of your trendy phrase in the list, this means that the trend has been changed.</span>
            <a class="info" >
                <i class="fa" style="color:#3F00FF">&#xf059;</i>
                <span><img src="help.png"></span>
            </a>
            </p>

            <div>
                <table class="inputTable"> 
                        <form id="calculatorForm">
                            <tr>
                                <th>Game</th>
                                <td><select id="gameOption" name="gameOption" onchange="updateOtherTrendsBox();">
                                        <option value="RS">Ruby/Sapphire</option>
                                        <option value="Emerald">Emerald</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>Working Battery <br>
                                    at New Game
                                    <a class="info">
                                    <i class="fa" style="color:#3F00FF">&#xf059;</i>
                                    <span>The internal battery was working when the save file was created. Its current state does not affect Feebas tiles.</span>
                                </a></th>
                                <td><input type="checkbox" id="batteryCheckbox" onchange="updateOtherTrendsBox();">
                                </td>
                            </tr>
                            <tr>
                                <th>Trainer ID</th>
                                <td><input type="number" id="trainerID" name="trainerID" placeholder="00000" min="0" max="65535"></td>
                            </tr>
                            <tr>
                                <td colspan="2" ><span style="font-weight:bold;"> Today's Dewford Trend</span>
                                    <div class="dropdown">  
                                        <button type="button" class="wrapper" data-toggle="dropdown">  
                                            <a id="defaultIcon" class="flag-icon flag-icon-gb"></a>
                                        </button>  
                                        <div class="dropdown-menu">  
                                            <a id="gb" title="English" class="dropdown-item"><i class="flag-icon flag-icon-gb"></i></a>
                                            <a id="jp" title="Japanese" class="dropdown-item"><i class="flag-icon flag-icon-jp"></i></a>
                                            <a id="fr" title="French" class="dropdown-item"><i class="flag-icon flag-icon-fr"></i></a>
                                            <a id="de" title="German" class="dropdown-item"><i class="flag-icon flag-icon-de"></i></a>
                                            <a id="it" title="Italian" class="dropdown-item"><i class="flag-icon flag-icon-it"></i></a>
                                            <a id="es" title="Spanish" class="dropdown-item"><i class="flag-icon flag-icon-es"></i></a>
                                        </div>  
                                    </div>  
                                </td>
                            </tr>
                            <tr>
                                <th>First Word</th>
                                <td><input class="fw selection" list="firstWord" id="firstWordInput" onfocus="this.value='';validateInput()" onkeyup="validateInput()">
                                    <datalist id="firstWord"></datalist>
                                </td>
                            </tr>
                            <tr>
                                <th>Second Word</th>
                                <td><input class="sw selection" list="secondWord" id="secondWordInput" onfocus="this.value='';validateInput()" onkeyup="validateInput()">
                                    <datalist id="secondWord"></datalist>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" ><span style="font-weight:bold;"> Other Dewford Trends</span>
                                <div class="buttonWrapper">
                                    <button id="addPhraseBtn" class="btn" type="button" onclick="addPhrase()">+</button>
                                    <button id="removePhraseBtn" type="button" class="btn btn-danger" onclick="removePhrase()">-</button>
                                </div>
                                </td>
                                
                            </tr>
                        </form>
                    <tbody id="otherTrends">
                    </tbody>
                </table>
            </div>
            <button type="button" id="calcButton" onclick="calculateButton()">Calculate</button>

            <table  class="resultTable">
                <tbody>
                    <tr>
                        <th><input type="checkbox" id="checkbox0" checked onclick="calculate_if_generated()"></th>
                        <th width="75%"> Feebas Random Value 1</div></th>
                        <th><div class="square" id="square0" style="background-color: #E34234;"><input type="color" class="colorPicker" value="#E34234" id="colorPicker0"/></div></th>
                        <td id="result0">0000</th>
                    </tr>
                    <tr>
                        <th><input type="checkbox" id="checkbox1" onclick="calculate_if_generated()"></th>
                        <th>Feebas Random Value 2</div></th>
                        <th><div class="square" id="square1" style="background-color: #FFD700;"><input type="color" class="colorPicker" value="#FFD700" id="colorPicker1"/></div></th>
                        <td id="result1">0000</th>
                    </tr>
                    <tr>
                        <th><input type="checkbox" id="checkbox2" onclick="calculate_if_generated()"></th>
                        <th>Feebas Random Value 3</div></th>
                        <th><div class="square" id="square2" style="background-color: #0BDA51;"><input type="color" class="colorPicker" value="#0BDA51" id="colorPicker2"/></div></th>
                        <td id="result2">0000</th>
                    </tr>
                    <tr>
                        <th><input class="customBox" type="checkbox" id="checkbox3" onclick="calculate_if_generated()"></th>
                        <th>Custom Feebas Value</div></th>
                        <th><div class="square" id="square3" style="background-color: #FFFFFF;"><input type="color" class="colorPicker" value="#FFFFFF" id="colorPicker3"/></div></th>
                        <td id="customResult"><input type="text" id="customSeed" name="customSeed" maxlength="4" placeholder="FFFF" onchange="calculate_if_generated()"></th>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-md-6" id="imageContainer">
            <p>Image credit: <a href="https://github.com/Bl4ckSh4rk/PKHeXFeebasLocatorPlugin/">Bl4ckSh4rk</a></p>
            <img src="route119.png" id="routeImage">
            <canvas id="overlayCanvas" width="641" height="1553"></canvas>
        </div>

    </div>
</div>

<button id="goToTopBtn" onclick="goToTop()">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
<script>
  kofiWidgetOverlay.draw('mucks', {
    'type': 'floating-chat',
    'floating-chat.donateButton.text': 'Support me',
    'floating-chat.donateButton.background-color': '#4CAF50',
    'floating-chat.donateButton.text-color': '#fff'
  });
</script>

<script src="js/data.js"></script>
<script src="js/scripts.js"></script>
</body>
</html>
